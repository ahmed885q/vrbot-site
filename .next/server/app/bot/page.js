(()=>{var e={};e.id=758,e.ids=[758],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},48633:(e,t,i)=>{"use strict";i.r(t),i.d(t,{GlobalError:()=>l.a,__next_app__:()=>p,originalPathname:()=>h,pages:()=>c,routeModule:()=>u,tree:()=>d});var n=i(50482),s=i(69108),r=i(62563),l=i.n(r),o=i(68300),a={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(a[e]=()=>o[e]);i.d(t,a);let d=["",{children:["bot",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(i.bind(i,96596)),"/workspaces/vrbot-site/app/bot/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(i.bind(i,82917)),"/workspaces/vrbot-site/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(i.t.bind(i,69361,23)),"next/dist/client/components/not-found-error"]}],c=["/workspaces/vrbot-site/app/bot/page.tsx"],h="/bot/page",p={require:i,loadChunk:()=>Promise.resolve()},u=new n.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/bot/page",pathname:"/bot",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},58561:(e,t,i)=>{Promise.resolve().then(i.bind(i,22322))},72919:(e,t,i)=>{Promise.resolve().then(i.t.bind(i,2583,23)),Promise.resolve().then(i.t.bind(i,26840,23)),Promise.resolve().then(i.t.bind(i,38771,23)),Promise.resolve().then(i.t.bind(i,13225,23)),Promise.resolve().then(i.t.bind(i,9295,23)),Promise.resolve().then(i.t.bind(i,43982,23))},35303:()=>{},22322:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>p});var n=i(95344),s=i(3729);function r({label:e,icon:t,bg:i,color:s}){return(0,n.jsxs)("span",{style:{display:"inline-flex",alignItems:"center",gap:8,padding:"7px 10px",borderRadius:999,fontSize:12,fontWeight:800,background:i,color:s,border:"1px solid rgba(17,24,39,0.10)",whiteSpace:"nowrap"},children:[n.jsx("span",{"aria-hidden":"true",children:t??"•"}),e]})}function l({title:e,subtitle:t,children:i,right:s}){return(0,n.jsxs)("div",{style:{border:"1px solid #e5e7eb",borderRadius:16,background:"#fff",boxShadow:"0 6px 18px rgba(17,24,39,0.06)",overflow:"hidden"},children:[(0,n.jsxs)("div",{style:{padding:14,borderBottom:"1px solid #eef2f7",display:"flex",alignItems:"center",justifyContent:"space-between",gap:10},children:[(0,n.jsxs)("div",{children:[n.jsx("div",{style:{fontWeight:900},children:e}),t?n.jsx("div",{style:{marginTop:2,fontSize:12,color:"#6b7280"},children:t}):null]}),s]}),n.jsx("div",{style:{padding:14},children:i})]})}function o({left:e,right:t}){return(0,n.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",gap:14,padding:"10px 0",borderBottom:"1px solid #f1f5f9"},children:[n.jsx("div",{style:{color:"#111827",fontWeight:700},children:e}),n.jsx("div",{style:{color:"#374151"},children:t})]})}function a({children:e,onClick:t,variant:i="primary",disabled:s}){let r={display:"inline-flex",alignItems:"center",justifyContent:"center",gap:8,padding:"10px 12px",borderRadius:12,fontWeight:800,border:"1px solid transparent",cursor:s?"not-allowed":"pointer",userSelect:"none",opacity:s?.6:1},l="primary"===i?{...r,background:"#111827",color:"#fff"}:"danger"===i?{...r,background:"#dc2626",color:"#fff"}:{...r,background:"#fff",color:"#111827",borderColor:"#e5e7eb"};return n.jsx("button",{type:"button",style:l,onClick:s?void 0:t,disabled:s,children:e})}function d({slots:e,trialEndsAt:t,trialActive:i,entError:o,farms:d,farmsLoading:c,farmsError:h,reloadFarms:p,ensureEntitlements:u,onToggleBot:g,onOpenBotSettings:x}){let[f,y]=(0,s.useState)(""),[b,m]=(0,s.useState)(""),[j,v]=(0,s.useState)(""),[k,D]=(0,s.useState)(!1),[S,C]=(0,s.useState)(null),[w,W]=(0,s.useState)(!1),[A,E]=(0,s.useState)({});async function T(){let e=f.trim();if(!e){C("Farm name is required");return}D(!0),C(null),W(!1);try{let t=await fetch("/api/farms/create",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:e,server:b.trim()||null,notes:j.trim()||null,bot_settings:{security:{antiDetection:!0,randomDelays:!0,maxActionsPerHour:180,humanizeMouse:!0,avoidPatterns:!0},automation:{autoFarm:!0,autoBuild:!0,targetLevel:17,priorityBuilding:"hall"}}})}),i=await t.json().catch(()=>({}));if(!t.ok)throw Error(i?.error||"Failed to create farm");W(!0),y(""),m(""),v(""),await p()}catch(e){C(e?.message||"Farm creation error")}finally{D(!1)}}async function R(e){if(confirm("Delete this farm? This cannot be undone."))try{if(!(await fetch(`/api/farms/delete?id=${encodeURIComponent(e)}`,{method:"DELETE"})).ok)throw Error("Failed to delete farm");await p()}catch(e){alert("Failed to delete farm")}}async function B(e,t){E(t=>({...t,[e]:!0}));try{if(g)await g(e,!t);else if(!(await fetch(`/api/farms/${e}/bot/toggle`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({enabled:!t})})).ok)throw Error("Failed to toggle bot");await p()}catch(e){console.error("Failed to toggle bot:",e),alert("Failed to toggle bot. Please try again.")}finally{E(t=>({...t,[e]:!1}))}}return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(l,{title:"Plan & Limits",subtitle:"Your current subscription allowances",right:(0,n.jsxs)("div",{style:{display:"flex",gap:8},children:[n.jsx(a,{variant:"ghost",onClick:u,children:"\uD83D\uDD04 Refresh"}),null!==e&&d.length>=e&&n.jsx(a,{variant:"primary",onClick:()=>window.open("/pricing","_blank"),children:"⭐ Upgrade Plan"})]}),children:[o?(0,n.jsxs)("div",{style:{color:"#ef4444",fontWeight:700,marginBottom:12},children:["Error: ",o]}):null,(0,n.jsxs)("div",{style:{display:"grid",gap:10},children:[(0,n.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",gap:14,padding:"10px 0",borderBottom:"1px solid #f1f5f9"},children:[n.jsx("div",{style:{color:"#111827",fontWeight:700},children:"Farm Slots"}),(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:8},children:[(0,n.jsxs)("span",{style:{fontWeight:900},children:[d.length,null!==e?` / ${e}`:""]}),null!==e&&d.length>=e?n.jsx(r,{label:"FULL",icon:"⚠️",bg:"#fee2e2",color:"#991b1b"}):n.jsx(r,{label:"AVAILABLE",icon:"✅",bg:"#dcfce7",color:"#166534"})]})]}),(0,n.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",gap:14,padding:"10px 0",borderBottom:"1px solid #f1f5f9"},children:[n.jsx("div",{style:{color:"#111827",fontWeight:700},children:"Active Bots"}),(0,n.jsxs)("div",{style:{fontWeight:900},children:[d.filter(e=>e.bot_enabled).length," / ",d.length]})]}),null!==i?(0,n.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",gap:14,padding:"10px 0",borderBottom:"1px solid #f1f5f9"},children:[n.jsx("div",{style:{color:"#111827",fontWeight:700},children:"Trial Status"}),n.jsx("div",{children:i?n.jsx(r,{label:"ACTIVE",icon:"⏳",bg:"#e0f2fe",color:"#075985"}):n.jsx(r,{label:"ENDED",icon:"⏹️",bg:"#f3f4f6",color:"#374151"})})]}):null,t?(0,n.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",gap:14,padding:"10px 0"},children:[n.jsx("div",{style:{color:"#111827",fontWeight:700},children:"Trial Ends"}),n.jsx("div",{style:{color:"#374151"},children:t})]}):null]})]}),n.jsx(l,{title:"Create New Farm",subtitle:"Add a new Viking Rise account",children:(0,n.jsxs)("div",{style:{display:"grid",gap:12},children:[(0,n.jsxs)("div",{children:[n.jsx("div",{style:{fontWeight:700,marginBottom:6},children:"Farm Name *"}),n.jsx("input",{value:f,onChange:e=>y(e.target.value),placeholder:"e.g., My Main Account",style:{width:"100%",padding:"10px 12px",borderRadius:12,border:"1px solid #e5e7eb",outline:"none",fontWeight:700}})]}),(0,n.jsxs)("div",{children:[n.jsx("div",{style:{fontWeight:700,marginBottom:6},children:"Server (optional)"}),n.jsx("input",{value:b,onChange:e=>m(e.target.value),placeholder:"e.g., NA-123",style:{width:"100%",padding:"10px 12px",borderRadius:12,border:"1px solid #e5e7eb",outline:"none",fontWeight:700}})]}),(0,n.jsxs)("div",{children:[n.jsx("div",{style:{fontWeight:700,marginBottom:6},children:"Notes (optional)"}),n.jsx("textarea",{value:j,onChange:e=>v(e.target.value),placeholder:"Any notes for this farm...",style:{width:"100%",minHeight:80,padding:"10px 12px",borderRadius:12,border:"1px solid #e5e7eb",outline:"none",fontWeight:700,resize:"vertical"}})]}),(0,n.jsxs)("div",{style:{marginTop:8},children:[(0,n.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:8},children:[n.jsx("input",{type:"checkbox",defaultChecked:!0}),n.jsx("span",{style:{fontWeight:700},children:"Enable bot with default settings"})]}),n.jsx("div",{style:{fontSize:12,color:"#6b7280",marginTop:4},children:"Includes: Anti-Detection, Auto-Farming, Auto-Build to level 17"})]}),S?(0,n.jsxs)("div",{style:{color:"#ef4444",fontWeight:700},children:["Error: ",S]}):null,w?n.jsx("div",{style:{color:"#16a34a",fontWeight:700},children:"✅ Farm created successfully!"}):null,(0,n.jsxs)("div",{style:{display:"flex",gap:10,alignItems:"center"},children:[n.jsx(a,{onClick:T,disabled:k||null!==e&&d.length>=e,children:k?"Creating...":"➕ Create Farm"}),null!==e&&d.length>=e?n.jsx("div",{style:{color:"#ef4444",fontWeight:700,fontSize:13},children:"⚠️ Upgrade plan to add more farms"}):null]})]})}),(0,n.jsxs)(l,{title:"Your Farms",subtitle:"All connected Viking Rise accounts",right:(0,n.jsxs)("div",{style:{display:"flex",gap:8},children:[n.jsx(a,{variant:"ghost",onClick:p,children:"\uD83D\uDD04 Refresh"}),d.length>0&&n.jsx(a,{variant:"primary",onClick:()=>console.log("Export farms"),children:"\uD83D\uDCE4 Export"})]}),children:[c?n.jsx("div",{style:{textAlign:"center",padding:20,color:"#6b7280"},children:"Loading farms..."}):h?(0,n.jsxs)("div",{style:{color:"#ef4444",fontWeight:700,textAlign:"center",padding:20},children:["Error: ",h]}):0===d.length?n.jsx("div",{style:{textAlign:"center",padding:20,color:"#6b7280"},children:"No farms yet. Create your first farm above."}):n.jsx("div",{style:{display:"grid",gap:10},children:d.map(e=>{let t=e.bot_enabled||!1,i=A[e.id]||!1;return(0,n.jsxs)("div",{style:{border:"1px solid #e5e7eb",borderRadius:14,padding:14,background:"#f8fafc",borderLeft:`4px solid ${t?"#10b981":"#6b7280"}`},children:[(0,n.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",gap:10},children:[(0,n.jsxs)("div",{style:{flex:1},children:[(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:8,marginBottom:4},children:[n.jsx("div",{style:{fontWeight:900,fontSize:16},children:e.name}),t&&n.jsx(r,{label:"BOT ACTIVE",icon:"\uD83E\uDD16",bg:"#dcfce7",color:"#166534"})]}),(0,n.jsxs)("div",{style:{display:"flex",gap:10,marginTop:6,fontSize:13,flexWrap:"wrap"},children:[e.server?(0,n.jsxs)("span",{style:{color:"#6b7280",fontWeight:700},children:["\uD83D\uDDA5️ Server: ",e.server]}):null,(0,n.jsxs)("span",{style:{color:"#6b7280",fontWeight:700},children:["\uD83D\uDCC5 Created: ",new Date(e.created_at).toLocaleDateString()]}),e.last_active&&(0,n.jsxs)("span",{style:{color:"#6b7280",fontWeight:700},children:["⏰ Last active: ",new Date(e.last_active).toLocaleDateString()]})]}),e.notes?(0,n.jsxs)("div",{style:{marginTop:8,color:"#4b5563",fontWeight:700,fontSize:13},children:["\uD83D\uDCDD ",e.notes]}):null]}),(0,n.jsxs)("div",{style:{display:"flex",gap:8,flexShrink:0},children:[n.jsx("button",{onClick:()=>B(e.id,t),disabled:i,style:{padding:"8px 12px",borderRadius:10,border:`1px solid ${t?"#fca5a5":"#a7f3d0"}`,background:t?"#fee2e2":"#dcfce7",color:t?"#991b1b":"#166534",fontWeight:900,fontSize:13,cursor:"pointer",display:"flex",alignItems:"center",gap:6,minWidth:100,justifyContent:"center",opacity:i?.6:1},children:i?"...":n.jsx(n.Fragment,{children:t?"⏹️ Stop Bot":"\uD83E\uDD16 Start Bot"})}),n.jsx("button",{onClick:()=>{var t;return t=e.id,void(x?x(t):window.location.href=`/farm/${t}/settings`)},style:{padding:"8px 12px",borderRadius:10,border:"1px solid #93c5fd",background:"#dbeafe",color:"#1e40af",fontWeight:900,fontSize:13,cursor:"pointer",display:"flex",alignItems:"center",gap:6},children:"⚙️ Settings"}),n.jsx("button",{onClick:()=>R(e.id),style:{padding:"8px 12px",borderRadius:10,border:"1px solid #fca5a5",background:"#fee2e2",color:"#991b1b",fontWeight:900,fontSize:13,cursor:"pointer"},children:"Delete"})]})]}),e.bot_settings&&(0,n.jsxs)("div",{style:{marginTop:12,padding:10,background:"#f0f9ff",borderRadius:8,border:"1px solid #e0f2fe"},children:[n.jsx("div",{style:{fontWeight:900,fontSize:13,color:"#075985",marginBottom:4},children:"Bot Settings:"}),(0,n.jsxs)("div",{style:{display:"flex",gap:8,flexWrap:"wrap"},children:[e.bot_settings.security?.antiDetection&&n.jsx(r,{label:"Anti-Detection",icon:"\uD83D\uDEE1️",bg:"#fff7ed",color:"#9a3412"}),e.bot_settings.automation?.autoFarm&&n.jsx(r,{label:"Auto-Farm",icon:"\uD83C\uDF3E",bg:"#dcfce7",color:"#166534"}),e.bot_settings.automation?.autoBuild&&n.jsx(r,{label:`Build to L${e.bot_settings.automation.targetLevel||17}`,icon:"\uD83C\uDFD7️",bg:"#dbeafe",color:"#1e40af"}),e.bot_settings.combat?.huntMonsters&&n.jsx(r,{label:"Monster Hunt",icon:"⚔️",bg:"#fee2e2",color:"#991b1b"})]})]}),(0,n.jsxs)("div",{style:{display:"flex",gap:10,marginTop:12,flexWrap:"wrap"},children:[n.jsx(r,{label:"Viking Rise",icon:"\uD83C\uDFAE",bg:"#dbeafe",color:"#1e40af"}),n.jsx(r,{label:e.bot_enabled?"Auto Mode":"Manual Mode",icon:e.bot_enabled?"\uD83E\uDD16":"\uD83D\uDC68‍\uD83D\uDCBB",bg:e.bot_enabled?"#dcfce7":"#f3f4f6",color:e.bot_enabled?"#166534":"#374151"}),e.bot_settings?.ai?.enabled&&n.jsx(r,{label:"AI Enabled",icon:"\uD83E\uDDE0",bg:"#f3e8ff",color:"#7c3aed"})]})]},e.id)})}),n.jsx("div",{style:{marginTop:14,padding:12,background:"#f0f9ff",borderRadius:12,border:"1px solid #e0f2fe"},children:(0,n.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,n.jsxs)("div",{children:[n.jsx("div",{style:{fontWeight:900,fontSize:14},children:"Quick Actions"}),n.jsx("div",{style:{fontSize:12,color:"#6b7280",fontWeight:700},children:"Manage all your farms at once"})]}),(0,n.jsxs)("div",{style:{display:"flex",gap:8},children:[n.jsx(a,{variant:"ghost",onClick:()=>{let e=d.filter(e=>e.bot_enabled);e.length>0&&confirm(`Stop bot on ${e.length} farms?`)&&e.forEach(e=>B(e.id,!0))},children:"⏹️ Stop All Bots"}),n.jsx(a,{variant:"ghost",onClick:()=>{let e=d.filter(e=>!e.bot_enabled);e.length>0&&confirm(`Start bot on ${e.length} farms?`)&&e.forEach(e=>B(e.id,!1))},children:"\uD83E\uDD16 Start All Bots"})]})]})}),(0,n.jsxs)("div",{style:{marginTop:14,fontSize:12,color:"#6b7280",fontWeight:700},children:["✅ Total: ",d.length," farms • \uD83E\uDD16 Active bots: ",d.filter(e=>e.bot_enabled).length,"• \uD83C\uDFAE Manual: ",d.filter(e=>!e.bot_enabled).length]})]})]})}function c({deviceToken:e,setDeviceToken:t,deviceBusy:i,setDeviceBusy:r,deviceError:o,setDeviceError:d}){let[c,h]=(0,s.useState)(!1);async function p(){r(!0),d(null),h(!1);try{let e=await fetch("/api/devices/create",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({purpose:"Viking Rise Bot Access"})}),i=await e.json().catch(()=>({}));if(!e.ok)throw Error(i?.error||"Failed to create device token");t(i?.token||null)}catch(e){d(e?.message||"Device token creation error")}finally{r(!1)}}async function u(){if(e&&confirm("Revoke this token? It will stop working immediately.")){r(!0);try{if(!(await fetch("/api/devices/revoke",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:e})})).ok)throw Error("Failed to revoke token");t(null),h(!1)}catch(e){alert("Failed to revoke token")}finally{r(!1)}}}return(0,n.jsxs)(n.Fragment,{children:[n.jsx(l,{title:"Device Token",subtitle:"For bot authentication (one per device)",children:(0,n.jsxs)("div",{style:{display:"grid",gap:14},children:[n.jsx("div",{style:{color:"#374151",fontWeight:700},children:"Use this token to authenticate your bot client. Keep it secret!"}),o?(0,n.jsxs)("div",{style:{color:"#ef4444",fontWeight:700},children:["Error: ",o]}):null,e?(0,n.jsxs)("div",{style:{display:"grid",gap:10},children:[(0,n.jsxs)("div",{children:[n.jsx("div",{style:{fontWeight:700,marginBottom:6},children:"Your Token:"}),n.jsx("div",{style:{padding:"12px 14px",borderRadius:12,border:"1px solid #e5e7eb",background:"#f8fafc",fontFamily:"ui-monospace, SFMono-Regular, Menlo, monospace",fontSize:13,wordBreak:"break-all",fontWeight:700},children:e})]}),(0,n.jsxs)("div",{style:{display:"flex",gap:10,flexWrap:"wrap"},children:[n.jsx(a,{onClick:function(){e&&navigator.clipboard.writeText(e).then(()=>{h(!0),setTimeout(()=>h(!1),2e3)}).catch(()=>{alert("Failed to copy token")})},children:c?"✅ Copied!":"\uD83D\uDCCB Copy Token"}),n.jsx(a,{variant:"danger",onClick:u,disabled:i,children:"\uD83D\uDD12 Revoke Token"})]}),n.jsx("div",{style:{fontSize:12,color:"#6b7280",fontWeight:700},children:"⚠️ This token will be shown only once. Save it securely."})]}):(0,n.jsxs)("div",{style:{display:"grid",gap:10},children:[n.jsx("div",{style:{color:"#6b7280",fontWeight:700},children:"No active token. Generate one to connect your bot."}),n.jsx("div",{style:{display:"flex",gap:10},children:n.jsx(a,{onClick:p,disabled:i,children:i?"Generating...":"\uD83D\uDD11 Generate New Token"})})]}),(0,n.jsxs)("div",{style:{marginTop:10,padding:12,borderRadius:14,border:"1px solid #e5e7eb",background:"#f8fafc"},children:[n.jsx("div",{style:{fontWeight:900,marginBottom:6},children:"Usage Instructions:"}),(0,n.jsxs)("ol",{style:{marginLeft:20,fontSize:13,color:"#374151",fontWeight:700},children:[n.jsx("li",{children:"Generate a token above"}),n.jsx("li",{children:"Copy it to your bot configuration"}),(0,n.jsxs)("li",{children:["Use in bot client: ",(0,n.jsxs)("code",{children:["Authorization: Bearer ","{token}"]})]}),n.jsx("li",{children:"Revoke if compromised or no longer needed"})]})]})]})}),(0,n.jsxs)(l,{title:"Connected Devices",subtitle:"Active bot sessions",children:[(0,n.jsxs)("div",{style:{textAlign:"center",padding:20,color:"#6b7280",fontWeight:700},children:["No active bot connections detected.",e?" Generate and use a token above to connect.":" Generate a token first."]}),n.jsx("div",{style:{display:"grid",gap:10},children:(0,n.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"12px 14px",border:"1px solid #e5e7eb",borderRadius:12,background:"#fff"},children:[(0,n.jsxs)("div",{children:[n.jsx("div",{style:{fontWeight:900},children:"Example Bot Client"}),n.jsx("div",{style:{fontSize:12,color:"#6b7280",fontWeight:700},children:"Last seen: Never"})]}),(0,n.jsxs)("div",{style:{display:"flex",gap:8},children:[n.jsx("span",{style:{fontSize:12,padding:"4px 8px",background:"#f3f4f6",borderRadius:6,fontWeight:800},children:"OFFLINE"}),n.jsx("button",{style:{padding:"6px 10px",borderRadius:8,border:"1px solid #fca5a5",background:"#fee2e2",color:"#991b1b",fontWeight:800,fontSize:12,cursor:"pointer"},children:"Disconnect"})]})]})}),n.jsx("div",{style:{marginTop:14,fontSize:12,color:"#6b7280",fontWeight:700},children:"Note: Device connections are for manual bot clients. No automation server included."})]}),n.jsx(l,{title:"Security Notes",subtitle:"Best practices for token safety",children:(0,n.jsxs)("div",{style:{display:"grid",gap:10},children:[(0,n.jsxs)("div",{style:{display:"flex",alignItems:"flex-start",gap:10},children:[n.jsx("span",{style:{fontSize:20},children:"\uD83D\uDD10"}),(0,n.jsxs)("div",{children:[n.jsx("div",{style:{fontWeight:900},children:"Keep Tokens Secret"}),n.jsx("div",{style:{fontSize:13,color:"#6b7280",fontWeight:700},children:"Treat tokens like passwords. Never share in public code or chats."})]})]}),(0,n.jsxs)("div",{style:{display:"flex",alignItems:"flex-start",gap:10},children:[n.jsx("span",{style:{fontSize:20},children:"\uD83D\uDD04"}),(0,n.jsxs)("div",{children:[n.jsx("div",{style:{fontWeight:900},children:"Regular Rotation"}),n.jsx("div",{style:{fontSize:13,color:"#6b7280",fontWeight:700},children:"Revoke old tokens and generate new ones periodically."})]})]}),(0,n.jsxs)("div",{style:{display:"flex",alignItems:"flex-start",gap:10},children:[n.jsx("span",{style:{fontSize:20},children:"\uD83D\uDCF1"}),(0,n.jsxs)("div",{children:[n.jsx("div",{style:{fontWeight:900},children:"One Token Per Device"}),n.jsx("div",{style:{fontSize:13,color:"#6b7280",fontWeight:700},children:"Use separate tokens for different bots or devices."})]})]}),(0,n.jsxs)("div",{style:{display:"flex",alignItems:"flex-start",gap:10},children:[n.jsx("span",{style:{fontSize:20},children:"\uD83D\uDEAB"}),(0,n.jsxs)("div",{children:[n.jsx("div",{style:{fontWeight:900},children:"Revoke When Compromised"}),n.jsx("div",{style:{fontSize:13,color:"#6b7280",fontWeight:700},children:"Immediately revoke any token you suspect is compromised."})]})]})]})})]})}function h({farms:e,selectedFarmId:t,setSelectedFarmId:i,logs:s,logsLoading:r,logsError:o,reloadLogs:d}){let c=e=>{let t={padding:"3px 8px",borderRadius:6,fontSize:11,fontWeight:900,textTransform:"uppercase"};switch(e.toLowerCase()){case"error":return{...t,background:"#fee2e2",color:"#991b1b"};case"warning":return{...t,background:"#fef3c7",color:"#92400e"};case"success":return{...t,background:"#dcfce7",color:"#166534"};default:return{...t,background:"#e5e7eb",color:"#374151"}}},h=e=>new Date(e).toLocaleString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"}),p=async()=>{if(confirm("Clear all logs? This cannot be undone."))try{(await fetch("/api/logs/clear",{method:"POST"})).ok&&await d(t)}catch(e){alert("Failed to clear logs")}};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(l,{title:"Activity Logs",subtitle:"System and bot activity records",right:(0,n.jsxs)("div",{style:{display:"flex",gap:10},children:[n.jsx(a,{variant:"ghost",onClick:()=>d(t),children:"\uD83D\uDD04 Refresh"}),n.jsx(a,{variant:"danger",onClick:p,children:"\uD83D\uDDD1️ Clear All"})]}),children:[(0,n.jsxs)("div",{style:{display:"flex",gap:10,alignItems:"center",marginBottom:14},children:[n.jsx("div",{style:{fontWeight:700},children:"Filter by Farm:"}),(0,n.jsxs)("select",{value:t,onChange:e=>{i(e.target.value),d(e.target.value)},style:{padding:"8px 12px",borderRadius:10,border:"1px solid #e5e7eb",background:"#fff",fontWeight:700,cursor:"pointer"},children:[n.jsx("option",{value:"all",children:"All Farms"}),e.map(e=>n.jsx("option",{value:e.id,children:e.name},e.id))]}),(0,n.jsxs)("div",{style:{marginLeft:"auto",display:"flex",gap:8},children:[n.jsx("span",{style:c("info"),children:"Info"}),n.jsx("span",{style:c("success"),children:"Success"}),n.jsx("span",{style:c("warning"),children:"Warning"}),n.jsx("span",{style:c("error"),children:"Error"})]})]}),r?n.jsx("div",{style:{textAlign:"center",padding:40,color:"#6b7280",fontWeight:700},children:"Loading logs..."}):o?(0,n.jsxs)("div",{style:{textAlign:"center",padding:40,color:"#ef4444",fontWeight:700},children:["Error: ",o]}):0===s.length?n.jsx("div",{style:{textAlign:"center",padding:40,color:"#6b7280",fontWeight:700},children:"No logs found. Activity will appear here."}):n.jsx("div",{style:{border:"1px solid #e5e7eb",borderRadius:12,overflow:"hidden",maxHeight:500,overflowY:"auto"},children:(0,n.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse"},children:[n.jsx("thead",{children:(0,n.jsxs)("tr",{style:{background:"#f8fafc",borderBottom:"1px solid #e5e7eb"},children:[n.jsx("th",{style:{padding:"12px 14px",textAlign:"left",fontWeight:900,fontSize:13},children:"Time"}),n.jsx("th",{style:{padding:"12px 14px",textAlign:"left",fontWeight:900,fontSize:13},children:"Level"}),n.jsx("th",{style:{padding:"12px 14px",textAlign:"left",fontWeight:900,fontSize:13},children:"Farm"}),n.jsx("th",{style:{padding:"12px 14px",textAlign:"left",fontWeight:900,fontSize:13},children:"Message"})]})}),n.jsx("tbody",{children:s.map(t=>{let i=e.find(e=>e.id===t.farm_id);return(0,n.jsxs)("tr",{style:{borderBottom:"1px solid #f1f5f9",background:"error"===t.level?"#fef2f2":"#fff"},children:[n.jsx("td",{style:{padding:"12px 14px",fontSize:13,fontWeight:700,color:"#6b7280"},children:h(t.created_at)}),n.jsx("td",{style:{padding:"12px 14px"},children:n.jsx("span",{style:c(t.level),children:t.level})}),n.jsx("td",{style:{padding:"12px 14px",fontSize:13,fontWeight:700},children:i?i.name:"System"}),n.jsx("td",{style:{padding:"12px 14px",fontSize:13,fontWeight:700,color:"#111827"},children:t.message})]},t.id)})})]})}),(0,n.jsxs)("div",{style:{marginTop:14,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,n.jsxs)("div",{style:{fontSize:12,color:"#6b7280",fontWeight:700},children:["Showing ",s.length," log entries"]}),n.jsx("div",{style:{fontSize:12,color:"#6b7280",fontWeight:700},children:"Auto-refresh: Off"})]})]}),(0,n.jsxs)(l,{title:"Log Statistics",subtitle:"Activity summary",children:[(0,n.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(150px, 1fr))",gap:14},children:[(0,n.jsxs)("div",{style:{textAlign:"center",padding:14,border:"1px solid #e5e7eb",borderRadius:12},children:[n.jsx("div",{style:{fontSize:24,fontWeight:950},children:s.length}),n.jsx("div",{style:{fontSize:12,color:"#6b7280",fontWeight:700},children:"Total Logs"})]}),(0,n.jsxs)("div",{style:{textAlign:"center",padding:14,border:"1px solid #e5e7eb",borderRadius:12},children:[n.jsx("div",{style:{fontSize:24,fontWeight:950,color:"#991b1b"},children:s.filter(e=>"error"===e.level).length}),n.jsx("div",{style:{fontSize:12,color:"#6b7280",fontWeight:700},children:"Errors"})]}),(0,n.jsxs)("div",{style:{textAlign:"center",padding:14,border:"1px solid #e5e7eb",borderRadius:12},children:[n.jsx("div",{style:{fontSize:24,fontWeight:950,color:"#92400e"},children:s.filter(e=>"warning"===e.level).length}),n.jsx("div",{style:{fontSize:12,color:"#6b7280",fontWeight:700},children:"Warnings"})]}),(0,n.jsxs)("div",{style:{textAlign:"center",padding:14,border:"1px solid #e5e7eb",borderRadius:12},children:[n.jsx("div",{style:{fontSize:24,fontWeight:950,color:"#166534"},children:s.filter(e=>"success"===e.level).length}),n.jsx("div",{style:{fontSize:12,color:"#6b7280",fontWeight:700},children:"Success"})]})]}),(0,n.jsxs)("div",{style:{marginTop:14},children:[n.jsx("div",{style:{fontWeight:900,marginBottom:8},children:"Recent Activity Pattern:"}),n.jsx("div",{style:{height:60,background:"#f8fafc",border:"1px solid #e5e7eb",borderRadius:10,padding:10},children:0===s.length?n.jsx("div",{style:{textAlign:"center",color:"#6b7280",fontWeight:700,lineHeight:"40px"},children:"No activity data"}):n.jsx("div",{style:{display:"flex",alignItems:"flex-end",gap:4,height:"100%"},children:[...Array(24)].map((e,t)=>{let i=s.filter(e=>new Date(e.created_at).getHours()===t).length,r=Math.min(40,i/Math.max(...[...Array(24)].map((e,t)=>s.filter(e=>new Date(e.created_at).getHours()===t).length))*40);return(0,n.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",flex:1},children:[n.jsx("div",{style:{width:"100%",height:`${r}px`,background:i>0?"#3b82f6":"#e5e7eb",borderRadius:3}}),n.jsx("div",{style:{fontSize:10,color:"#6b7280",marginTop:4},children:t})]},t)})})}),n.jsx("div",{style:{fontSize:11,color:"#6b7280",textAlign:"center",marginTop:6,fontWeight:700},children:"Hour of day (0-23)"})]})]}),n.jsx(l,{title:"Export Logs",subtitle:"Download or backup activity data",children:(0,n.jsxs)("div",{style:{display:"grid",gap:12},children:[n.jsx("div",{style:{fontWeight:700,color:"#374151"},children:"Export your logs for analysis or backup:"}),(0,n.jsxs)("div",{style:{display:"flex",gap:10,flexWrap:"wrap"},children:[n.jsx(a,{variant:"ghost",children:"\uD83D\uDCE5 Export as JSON"}),n.jsx(a,{variant:"ghost",children:"\uD83D\uDCCA Export as CSV"}),n.jsx(a,{variant:"ghost",children:"\uD83D\uDCCB Copy to Clipboard"})]}),(0,n.jsxs)("div",{style:{padding:12,borderRadius:12,border:"1px solid #e5e7eb",background:"#f8fafc",fontSize:13,color:"#374151",fontWeight:700},children:[n.jsx("div",{style:{fontWeight:900,marginBottom:6},children:"Export Options:"}),(0,n.jsxs)("ul",{style:{marginLeft:20},children:[n.jsx("li",{children:"JSON: For programmatic analysis"}),n.jsx("li",{children:"CSV: For spreadsheet import"}),n.jsx("li",{children:"Text: For plain text review"}),n.jsx("li",{children:"Filtered: Export only selected farm or level"})]})]}),n.jsx("div",{style:{fontSize:12,color:"#6b7280",fontWeight:700},children:"Note: Exports include all logs visible with current filter settings."})]})})]})}function p({email:e,userId:t,plan:i,status:l}){let[o,p]=(0,s.useState)("overview"),[v,k]=(0,s.useState)(null),[D,S]=(0,s.useState)(null),[C,w]=(0,s.useState)(null),[W,A]=(0,s.useState)(null),[E,T]=(0,s.useState)([]),[R,B]=(0,s.useState)(!1),[I,F]=(0,s.useState)(null),[_,z]=(0,s.useState)(null),[M,P]=(0,s.useState)(!1),[L,O]=(0,s.useState)(null),[N,G]=(0,s.useState)([]),[U,H]=(0,s.useState)(!1),[q,$]=(0,s.useState)(null),[J,V]=(0,s.useState)("all"),[Y,Q]=(0,s.useState)({security:{antiDetection:!0,randomDelays:!0,maxActionsPerHour:180,useProxy:!1,proxyAddress:"",humanizeMouse:!0,avoidPatterns:!0},automation:{autoFarm:!0,autoBuild:!0,autoResearch:!0,autoUpgrade:!0,targetLevel:17,priorityBuilding:"hall",upgradeQueue:["hall","barracks","farm","hospital","wall"]},resources:{gatherWood:!0,gatherFood:!0,gatherStone:!0,gatherGold:!1,autoCollect:!0,minResourceThreshold:1e4},combat:{huntMonsters:!0,monsterStrength:"weak",autoJoinRallies:!0,supportAllies:!0,autoHeal:!0,crowdSupport:!0,troopPresets:["attack1","defense1","gather1"]},messaging:{autoSendGifts:!0,giftMessage:"From your alliance friend!",recipients:[],checkMail:!0,replyToAlliance:!0},ai:{enabled:!0,learningMode:!0,optimizeStrategy:!0,predictAttacks:!0,autoAdjust:!0,visionModel:"hybrid"},scheduling:{enabled:!1,startTime:"09:00",endTime:"23:00",pauseDuringEvents:!0,stopOnLowResources:!0}}),[K,X]=(0,s.useState)("stopped"),[Z,ee]=(0,s.useState)({actionsToday:0,resourcesGathered:0,monstersKilled:0,giftsSent:0,uptime:"0h 0m"}),et=(0,s.useMemo)(()=>{let e=String(i||"free").toLowerCase();return"pro"===e?{label:"PRO",icon:"⚡",bg:"#dcfce7",color:"#166534"}:"trial"===e?{label:"TRIAL",icon:"⏳",bg:"#e0f2fe",color:"#075985"}:{label:"FREE",icon:"\uD83E\uDDEA",bg:"#f3f4f6",color:"#374151"}},[i]),ei=(0,s.useMemo)(()=>{let e=String(l||"").toLowerCase();return"active"===e?{label:"ACTIVE",icon:"✅",bg:"#dcfce7",color:"#166534"}:"trialing"===e?{label:"TRIALING",icon:"⏳",bg:"#e0f2fe",color:"#075985"}:"canceled"===e?{label:"CANCELED",icon:"\uD83D\uDED1",bg:"#fee2e2",color:"#991b1b"}:{label:String(l||"—").toUpperCase(),icon:"•",bg:"#f3f4f6",color:"#374151"}},[l]),en=(0,s.useMemo)(()=>"running"===K?{label:"BOT RUNNING",icon:"\uD83E\uDD16",bg:"#dcfce7",color:"#166534"}:"paused"===K?{label:"BOT PAUSED",icon:"⏸️",bg:"#fef3c7",color:"#92400e"}:{label:"BOT STOPPED",icon:"\uD83D\uDED1",bg:"#fee2e2",color:"#991b1b"},[K]);async function es(){A(null);try{let e=await fetch("/api/entitlements/ensure",{cache:"no-store"}),t=await e.json().catch(()=>({}));if(!e.ok)throw Error(t?.error||"Failed to ensure entitlements");k(t?.farm_slots??null),S(t?.trial_ends_at??null),w(!!t?.trialActive)}catch(e){A(e?.message||"Entitlements error")}}async function er(){B(!0),F(null);try{let e=await fetch("/api/farms/list",{cache:"no-store"}),t=await e.json().catch(()=>({}));if(!e.ok)throw Error(t?.error||"Failed to load farms");T(t?.farms||[])}catch(e){F(e?.message||"Farms error")}finally{B(!1)}}async function el(e){H(!0),$(null);try{let t=e&&"all"!==e?`?limit=50&farmId=${encodeURIComponent(e)}`:"?limit=50",i=await fetch(`/api/logs/list${t}`,{cache:"no-store"}),n=await i.json().catch(()=>({}));if(!i.ok)throw Error(n?.error||"Failed to load logs");G(n?.logs||[])}catch(e){$(e?.message||"Logs error")}finally{H(!1)}}let eo=async()=>{try{(await fetch("/api/bot/start",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({settings:Y})})).ok&&(X("running"),ec("Bot started successfully","success"))}catch(e){ec("Failed to start bot","error")}},ea=async()=>{try{(await fetch("/api/bot/stop",{method:"POST"})).ok&&(X("stopped"),ec("Bot stopped","warning"))}catch(e){ec("Failed to stop bot","error")}},ed=async()=>{X("paused"),ec("Bot paused","info")},ec=(e,t)=>{let i={id:N.length+1,farm_id:null,level:t,message:e,created_at:new Date().toISOString()};G(e=>[i,...e.slice(0,49)])};return(0,s.useEffect)(()=>{es(),er(),el("all")},[]),n.jsx("div",{style:{minHeight:"100vh",background:"radial-gradient(1200px 500px at 20% 0%, rgba(59,130,246,0.12), transparent), radial-gradient(900px 400px at 80% 0%, rgba(34,197,94,0.10), transparent), #f8fafc"},children:(0,n.jsxs)("div",{style:{maxWidth:980,margin:"0 auto",padding:18},children:[(0,n.jsxs)("div",{style:{display:"flex",alignItems:"flex-start",justifyContent:"space-between",gap:14,flexWrap:"wrap"},children:[(0,n.jsxs)("div",{children:[n.jsx("div",{style:{fontSize:32,fontWeight:950,letterSpacing:-.5},children:"VRBOT"}),n.jsx("div",{style:{marginTop:6,color:"#6b7280",fontWeight:600},children:"Viking Rise assistant dashboard (planning + checklist + guidance)"})]}),(0,n.jsxs)("div",{style:{display:"flex",gap:10,flexWrap:"wrap"},children:[n.jsx(r,{...et}),n.jsx(r,{...ei}),n.jsx(r,{...en}),n.jsx(r,{label:"Anti-Panda",icon:"\uD83D\uDEE1️",bg:"#fff7ed",color:"#9a3412"})]})]}),(0,n.jsxs)("div",{style:{marginTop:14,padding:12,borderRadius:16,border:"1px solid #e5e7eb",background:"#fff",display:"flex",alignItems:"center",justifyContent:"space-between",flexWrap:"wrap",gap:10},children:[(0,n.jsxs)("div",{style:{display:"flex",gap:10,alignItems:"center"},children:[n.jsx("div",{style:{fontWeight:900},children:"Bot Control:"}),n.jsx(a,{onClick:eo,disabled:"running"===K,children:"▶️ Start Bot"}),n.jsx(a,{onClick:ea,variant:"danger",disabled:"stopped"===K,children:"⏹️ Stop Bot"}),n.jsx(a,{onClick:ed,variant:"ghost",disabled:"running"!==K,children:"⏸️ Pause"})]}),(0,n.jsxs)("div",{style:{display:"flex",gap:20,fontSize:12},children:[(0,n.jsxs)("div",{children:[n.jsx("div",{style:{color:"#6b7280"},children:"Actions Today"}),n.jsx("div",{style:{fontWeight:900},children:Z.actionsToday})]}),(0,n.jsxs)("div",{children:[n.jsx("div",{style:{color:"#6b7280"},children:"Uptime"}),n.jsx("div",{style:{fontWeight:900},children:Z.uptime})]})]})]}),n.jsx("div",{style:{marginTop:14,display:"flex",gap:8,flexWrap:"wrap"},children:[{key:"overview",label:"Overview",icon:"\uD83C\uDFE0"},{key:"farms",label:"Farms",icon:"\uD83C\uDFE1"},{key:"devices",label:"Devices",icon:"\uD83D\uDDA5️"},{key:"logs",label:"Logs",icon:"\uD83D\uDCDC"},{key:"bot-settings",label:"Bot Settings",icon:"⚙️"},{key:"farming",label:"Farming",icon:"\uD83C\uDF3E"},{key:"build",label:"Build",icon:"\uD83C\uDFD7️"},{key:"rally",label:"Rally",icon:"⚔️"},{key:"resources",label:"Resources",icon:"⛏️"},{key:"mail",label:"Mail & Gifts",icon:"\uD83C\uDF81"},{key:"ai",label:"AI Helper",icon:"\uD83E\uDD16"}].map(e=>(0,n.jsxs)("button",{type:"button",onClick:()=>p(e.key),style:{padding:"10px 12px",borderRadius:14,border:"1px solid #e5e7eb",background:o===e.key?"#111827":"#fff",color:o===e.key?"#fff":"#111827",fontWeight:900,cursor:"pointer",display:"inline-flex",alignItems:"center",gap:8},children:[n.jsx("span",{"aria-hidden":"true",children:e.icon}),e.label]},e.key))}),(0,n.jsxs)("div",{style:{marginTop:14,display:"grid",gridTemplateColumns:"1fr",gap:12},children:["overview"===o?n.jsx(u,{email:e,userId:t,botStats:Z}):null,"farms"===o?n.jsx(d,{slots:v,trialEndsAt:D,trialActive:C,entError:W,farms:E,farmsLoading:R,farmsError:I,reloadFarms:er,ensureEntitlements:es}):null,"devices"===o?n.jsx(c,{deviceToken:_,setDeviceToken:z,deviceBusy:M,setDeviceBusy:P,deviceError:L,setDeviceError:O}):null,"logs"===o?n.jsx(h,{farms:E.map(e=>({id:e.id,name:e.name})),selectedFarmId:J,setSelectedFarmId:V,logs:N,logsLoading:U,logsError:q,reloadLogs:el}):null,"bot-settings"===o?n.jsx(g,{settings:Y,updateSetting:(e,t,i)=>{Q(n=>({...n,[e]:{...n[e],[t]:i}}))},botStatus:K}):null,"farming"===o?n.jsx(x,{settings:Y.automation}):null,"build"===o?n.jsx(f,{settings:Y.automation}):null,"rally"===o?n.jsx(y,{settings:Y.combat}):null,"resources"===o?n.jsx(b,{settings:Y.resources}):null,"mail"===o?n.jsx(m,{settings:Y.messaging}):null,"ai"===o?n.jsx(j,{settings:Y.ai}):null]}),n.jsx("div",{style:{marginTop:14,color:"#6b7280",fontSize:12,fontWeight:700},children:"Note: This UI helps you plan and track tasks. Automation/bypass features are intentionally not included."})]})})}function u({email:e,userId:t,botStats:i}){return(0,n.jsxs)(l,{title:"Account & Bot Status",subtitle:"Basic info and bot statistics",right:n.jsx("a",{href:"/dashboard",style:{textDecoration:"none",fontWeight:900,padding:"10px 12px",borderRadius:12,border:"1px solid #e5e7eb",background:"#fff",color:"#111827"},children:"↩︎ Dashboard"}),children:[n.jsx(o,{left:"Email",right:n.jsx("span",{style:{fontWeight:800},children:e||"—"})}),n.jsx(o,{left:"User ID",right:n.jsx("span",{style:{fontFamily:"ui-monospace, SFMono-Regular, Menlo, monospace"},children:t})}),(0,n.jsxs)("div",{style:{marginTop:20,display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:10},children:[n.jsx(v,{label:"Resources Gathered",value:i.resourcesGathered}),n.jsx(v,{label:"Monsters Killed",value:i.monstersKilled}),n.jsx(v,{label:"Gifts Sent",value:i.giftsSent}),n.jsx(v,{label:"Uptime",value:i.uptime})]}),(0,n.jsxs)("div",{style:{marginTop:10,display:"flex",gap:10,flexWrap:"wrap"},children:[n.jsx("a",{href:"/",style:{textDecoration:"none",fontWeight:900,padding:"10px 12px",borderRadius:12,border:"1px solid #111827",background:"#111827",color:"#fff"},children:"\uD83C\uDFE0 Home"}),n.jsx("a",{href:"mailto:ahmed85q@hotmail.com?subject=VRBOT%20Feedback",style:{textDecoration:"none",fontWeight:900,padding:"10px 12px",borderRadius:12,border:"1px solid #e5e7eb",background:"#fff",color:"#111827"},children:"✉️ Feedback"})]})]})}function g({settings:e,updateSetting:t,botStatus:i}){return(0,n.jsxs)(n.Fragment,{children:[n.jsx(l,{title:"Security & Anti-Detection",subtitle:"Protection against Panda system",children:(0,n.jsxs)("div",{style:{display:"grid",gap:12},children:[(0,n.jsxs)("label",{style:k(),children:[n.jsx("input",{type:"checkbox",checked:e.security.antiDetection,onChange:e=>t("security","antiDetection",e.target.checked)}),(0,n.jsxs)("span",{children:[n.jsx("b",{children:"Anti-detection mode"})," — advanced pattern avoidance"]})]}),(0,n.jsxs)("label",{style:k(),children:[n.jsx("input",{type:"checkbox",checked:e.security.randomDelays,onChange:e=>t("security","randomDelays",e.target.checked)}),(0,n.jsxs)("span",{children:[n.jsx("b",{children:"Random delays"})," — unpredictable timing between actions"]})]}),(0,n.jsxs)("label",{style:k(),children:[n.jsx("input",{type:"checkbox",checked:e.security.humanizeMouse,onChange:e=>t("security","humanizeMouse",e.target.checked)}),(0,n.jsxs)("span",{children:[n.jsx("b",{children:"Human-like mouse movements"})," — curved paths, variable speed"]})]}),(0,n.jsxs)("label",{style:k(),children:[n.jsx("input",{type:"checkbox",checked:e.security.avoidPatterns,onChange:e=>t("security","avoidPatterns",e.target.checked)}),(0,n.jsxs)("span",{children:[n.jsx("b",{children:"Pattern avoidance"})," — prevent repetitive action sequences"]})]}),(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:10,marginTop:10},children:[n.jsx("div",{style:{fontWeight:700},children:"Max actions per hour:"}),n.jsx("input",{type:"range",min:"10",max:"500",value:e.security.maxActionsPerHour,onChange:e=>t("security","maxActionsPerHour",parseInt(e.target.value)),style:{flex:1}}),n.jsx("div",{style:{fontWeight:900},children:e.security.maxActionsPerHour})]})]})}),n.jsx(l,{title:"Automation Settings",subtitle:"Bot behavior configuration",children:(0,n.jsxs)("div",{style:{display:"grid",gap:12},children:[(0,n.jsxs)("label",{style:k(),children:[n.jsx("input",{type:"checkbox",checked:e.automation.autoFarm,onChange:e=>t("automation","autoFarm",e.target.checked),disabled:"running"===i}),(0,n.jsxs)("span",{children:[n.jsx("b",{children:"Auto-farming"})," — automatic resource gathering"]})]}),(0,n.jsxs)("label",{style:k(),children:[n.jsx("input",{type:"checkbox",checked:e.automation.autoBuild,onChange:e=>t("automation","autoBuild",e.target.checked),disabled:"running"===i}),(0,n.jsxs)("span",{children:[n.jsx("b",{children:"Auto-building"})," — automatic construction queue"]})]}),(0,n.jsxs)("label",{style:k(),children:[n.jsx("input",{type:"checkbox",checked:e.automation.autoResearch,onChange:e=>t("automation","autoResearch",e.target.checked),disabled:"running"===i}),(0,n.jsxs)("span",{children:[n.jsx("b",{children:"Auto-research"})," — automatic technology research"]})]}),(0,n.jsxs)("div",{style:{marginTop:10},children:[n.jsx("div",{style:{fontWeight:700,marginBottom:8},children:"Target Level:"}),(0,n.jsxs)("div",{style:{display:"flex",gap:10,alignItems:"center"},children:[n.jsx("input",{type:"range",min:"1",max:"25",value:e.automation.targetLevel,onChange:e=>t("automation","targetLevel",parseInt(e.target.value)),style:{flex:1}}),n.jsx("div",{style:{fontSize:20,fontWeight:950},children:e.automation.targetLevel})]})]}),(0,n.jsxs)("div",{style:{marginTop:10},children:[n.jsx("div",{style:{fontWeight:700,marginBottom:8},children:"Building Priority:"}),(0,n.jsxs)("select",{value:e.automation.priorityBuilding,onChange:e=>t("automation","priorityBuilding",e.target.value),style:{width:"100%",padding:"10px 12px",borderRadius:12,border:"1px solid #e5e7eb",fontWeight:700},children:[n.jsx("option",{value:"hall",children:"Main Hall"}),n.jsx("option",{value:"barracks",children:"Barracks"}),n.jsx("option",{value:"hospital",children:"Hospital"}),n.jsx("option",{value:"wall",children:"Wall"}),n.jsx("option",{value:"farm",children:"Farm"}),n.jsx("option",{value:"market",children:"Market"})]})]})]})}),n.jsx(l,{title:"Combat & Rally Settings",subtitle:"Monster hunting and alliance support",children:(0,n.jsxs)("div",{style:{display:"grid",gap:12},children:[(0,n.jsxs)("label",{style:k(),children:[n.jsx("input",{type:"checkbox",checked:e.combat.huntMonsters,onChange:e=>t("combat","huntMonsters",e.target.checked)}),(0,n.jsxs)("span",{children:[n.jsx("b",{children:"Auto-hunt monsters"})," — automatically attack monsters"]})]}),(0,n.jsxs)("label",{style:k(),children:[n.jsx("input",{type:"checkbox",checked:e.combat.autoJoinRallies,onChange:e=>t("combat","autoJoinRallies",e.target.checked)}),(0,n.jsxs)("span",{children:[n.jsx("b",{children:"Auto-join rallies"})," — automatically participate in alliance rallies"]})]}),(0,n.jsxs)("label",{style:k(),children:[n.jsx("input",{type:"checkbox",checked:e.combat.crowdSupport,onChange:e=>t("combat","crowdSupport",e.target.checked)}),(0,n.jsxs)("span",{children:[n.jsx("b",{children:"Crowd support"})," — send reinforcements to allies"]})]}),(0,n.jsxs)("div",{style:{marginTop:10},children:[n.jsx("div",{style:{fontWeight:700,marginBottom:8},children:"Monster Strength:"}),n.jsx("div",{style:{display:"flex",gap:8},children:["weak","medium","strong"].map(i=>n.jsx("button",{type:"button",onClick:()=>t("combat","monsterStrength",i),style:{padding:"8px 12px",borderRadius:12,border:`1px solid ${e.combat.monsterStrength===i?"#111827":"#e5e7eb"}`,background:e.combat.monsterStrength===i?"#111827":"#fff",color:e.combat.monsterStrength===i?"#fff":"#111827",fontWeight:800,cursor:"pointer"},children:i.charAt(0).toUpperCase()+i.slice(1)},i))})]})]})}),n.jsx(l,{title:"AI Integration",subtitle:"Advanced AI features",children:(0,n.jsxs)("div",{style:{display:"grid",gap:12},children:[(0,n.jsxs)("label",{style:k(),children:[n.jsx("input",{type:"checkbox",checked:e.ai.enabled,onChange:e=>t("ai","enabled",e.target.checked)}),(0,n.jsxs)("span",{children:[n.jsx("b",{children:"AI Enabled"})," — use AI for decision making"]})]}),(0,n.jsxs)("label",{style:k(),children:[n.jsx("input",{type:"checkbox",checked:e.ai.learningMode,onChange:e=>t("ai","learningMode",e.target.checked)}),(0,n.jsxs)("span",{children:[n.jsx("b",{children:"Learning mode"})," — improve over time based on results"]})]}),(0,n.jsxs)("label",{style:k(),children:[n.jsx("input",{type:"checkbox",checked:e.ai.predictAttacks,onChange:e=>t("ai","predictAttacks",e.target.checked)}),(0,n.jsxs)("span",{children:[n.jsx("b",{children:"Attack prediction"})," — predict enemy attacks and prepare defenses"]})]}),(0,n.jsxs)("div",{style:{marginTop:10},children:[n.jsx("div",{style:{fontWeight:700,marginBottom:8},children:"Vision Model:"}),(0,n.jsxs)("select",{value:e.ai.visionModel,onChange:e=>t("ai","visionModel",e.target.value),style:{width:"100%",padding:"10px 12px",borderRadius:12,border:"1px solid #e5e7eb",fontWeight:700},children:[n.jsx("option",{value:"yolo",children:"YOLO v8 (Fast)"}),n.jsx("option",{value:"custom",children:"Custom Model (Accurate)"}),n.jsx("option",{value:"hybrid",children:"Hybrid (Balanced)"})]})]})]})})]})}function x({settings:e}){let[t,i]=(0,s.useState)({gather:!0,farmTiles:!0,upgradeWorkers:!0,heal:!0});return(0,n.jsxs)(l,{title:"Farming routine",subtitle:"Daily checklist (manual tracking)",children:[(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:10,marginBottom:12},children:[n.jsx("div",{style:{fontWeight:900},children:"Auto-farming:"}),n.jsx(r,{label:e.autoFarm?"ENABLED":"DISABLED",icon:e.autoFarm?"✅":"❌",bg:e.autoFarm?"#dcfce7":"#fee2e2",color:e.autoFarm?"#166534":"#991b1b"})]}),(0,n.jsxs)("label",{style:k(),children:[n.jsx("input",{type:"checkbox",checked:t.gather,onChange:e=>i({...t,gather:e.target.checked})}),(0,n.jsxs)("span",{children:[n.jsx("b",{children:"Gather resources"})," — send marches to nearest rich nodes"]})]}),(0,n.jsxs)("label",{style:k(),children:[n.jsx("input",{type:"checkbox",checked:t.farmTiles,onChange:e=>i({...t,farmTiles:e.target.checked})}),(0,n.jsxs)("span",{children:[n.jsx("b",{children:"Farm map tiles"})," — rotate zones to avoid over-farming one area"]})]}),(0,n.jsxs)("label",{style:k(),children:[n.jsx("input",{type:"checkbox",checked:t.upgradeWorkers,onChange:e=>i({...t,upgradeWorkers:e.target.checked})}),(0,n.jsxs)("span",{children:[n.jsx("b",{children:"Upgrade economy"})," — queue upgrades for farm/production buildings"]})]}),(0,n.jsxs)("label",{style:k(),children:[n.jsx("input",{type:"checkbox",checked:t.heal,onChange:e=>i({...t,heal:e.target.checked})}),(0,n.jsxs)("span",{children:[n.jsx("b",{children:"Heal + hospital"})," — keep capacity safe before rallies"]})]}),n.jsx("div",{style:{marginTop:12,padding:12,borderRadius:14,border:"1px solid #e5e7eb",background:"#f8fafc",color:"#374151",fontWeight:700,fontSize:13},children:"✅ This section is a planner/checklist. (No ban-bypass features.)"})]})}function f({settings:e}){let[t,i]=(0,s.useState)(1),o=e.targetLevel,d=Math.max(0,Math.min(100,Math.round(t/o*100)));return n.jsx(l,{title:"Build planner",subtitle:`From level 1 → ${o} (plan + notes)`,children:(0,n.jsxs)("div",{style:{display:"grid",gap:10},children:[(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:10,marginBottom:10},children:[n.jsx("div",{style:{fontWeight:900},children:"Auto-build:"}),n.jsx(r,{label:e.autoBuild?"ENABLED":"DISABLED",icon:e.autoBuild?"✅":"❌",bg:e.autoBuild?"#dcfce7":"#fee2e2",color:e.autoBuild?"#166534":"#991b1b"}),(0,n.jsxs)("div",{style:{color:"#6b7280",fontSize:12},children:["Priority: ",e.priorityBuilding]})]}),n.jsx("div",{style:{fontWeight:900},children:"Current farm level"}),(0,n.jsxs)("div",{style:{display:"flex",gap:10,alignItems:"center",flexWrap:"wrap"},children:[n.jsx(a,{variant:"ghost",onClick:()=>i(e=>Math.max(1,e-1)),children:"−"}),n.jsx("div",{style:{fontSize:28,fontWeight:950},children:t}),n.jsx(a,{variant:"ghost",onClick:()=>i(e=>Math.min(o,e+1)),children:"+"}),(0,n.jsxs)("div",{style:{color:"#6b7280",fontWeight:800},children:["Target: ",o]})]}),n.jsx("div",{style:{height:10,background:"#e5e7eb",borderRadius:999,overflow:"hidden"},children:n.jsx("div",{style:{width:`${d}%`,height:"100%",background:"#111827"}})}),(0,n.jsxs)("div",{style:{fontSize:13,color:"#374151",fontWeight:700},children:["Suggested focus: ",n.jsx("b",{children:"HQ/Stronghold requirements"})," + production + troop capacity."]}),(0,n.jsxs)("div",{style:{marginTop:10},children:[n.jsx("div",{style:{fontWeight:700,marginBottom:8},children:"Upgrade Queue:"}),n.jsx("div",{style:{display:"flex",gap:8,flexWrap:"wrap"},children:e.upgradeQueue.map((e,t)=>n.jsx(r,{label:e,icon:0===t?"\uD83D\uDE80":"\uD83D\uDCCA",bg:0===t?"#dbeafe":"#f3f4f6",color:0===t?"#1e40af":"#374151"},t))})]}),n.jsx("textarea",{placeholder:"Notes (next upgrades, missing requirements, timers...)",style:{width:"100%",minHeight:120,borderRadius:14,border:"1px solid #e5e7eb",padding:12,outline:"none",fontWeight:700}})]})})}function y({settings:e}){let[t,i]=(0,s.useState)("monsters");return(0,n.jsxs)(l,{title:"Rally planner",subtitle:"Monsters + support rallies (planning)",children:[(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:10,marginBottom:12},children:[n.jsx("div",{style:{fontWeight:900},children:"Auto-hunt:"}),n.jsx(r,{label:e.huntMonsters?"ENABLED":"DISABLED",icon:e.huntMonsters?"✅":"❌",bg:e.huntMonsters?"#dcfce7":"#fee2e2",color:e.huntMonsters?"#166534":"#991b1b"}),(0,n.jsxs)("div",{style:{color:"#6b7280",fontSize:12},children:["Strength: ",e.monsterStrength]})]}),(0,n.jsxs)("div",{style:{display:"flex",gap:8,flexWrap:"wrap",marginBottom:12},children:[n.jsx(a,{variant:"monsters"===t?"primary":"ghost",onClick:()=>i("monsters"),children:"⚔️ Monsters"}),n.jsx(a,{variant:"support"===t?"primary":"ghost",onClick:()=>i("support"),children:"\uD83D\uDEE1️ Support"})]}),"monsters"===t?(0,n.jsxs)("div",{style:{display:"grid",gap:10},children:[n.jsx(o,{left:"Goal",right:"Farm XP + loot efficiently"}),n.jsx(o,{left:"Tip",right:"Use strongest march, watch stamina"}),n.jsx(o,{left:"Checklist",right:"Scout → rally → heal → repeat"})]}):(0,n.jsxs)("div",{style:{display:"grid",gap:10},children:[n.jsx(o,{left:"Goal",right:"Support alliance rallies"}),n.jsx(o,{left:"Tip",right:"Set time windows + notify group"}),n.jsx(o,{left:"Checklist",right:"Join → send support → return"})]}),n.jsx("div",{style:{marginTop:12},children:n.jsx("textarea",{placeholder:"Plan for today's rallies (times, targets, notes)",style:{width:"100%",minHeight:110,borderRadius:14,border:"1px solid #e5e7eb",padding:12,outline:"none",fontWeight:700}})})]})}function b({settings:e}){let[t,i]=(0,s.useState)(0),[o,a]=(0,s.useState)(0),[d,c]=(0,s.useState)(0),[h,p]=(0,s.useState)(0);return(0,n.jsxs)(l,{title:"Resources tracker",subtitle:"Manual tracking (for planning)",children:[(0,n.jsxs)("div",{style:{display:"grid",gap:10,marginBottom:12},children:[D("\uD83E\uDEB5 Wood",t,i,e.gatherWood),D("\uD83C\uDF5E Food",o,a,e.gatherFood),D("\uD83E\uDEA8 Stone",d,c,e.gatherStone),D("\uD83E\uDE99 Gold",h,p,e.gatherGold)]}),(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:10,marginBottom:12},children:[n.jsx("div",{style:{fontWeight:900},children:"Auto-collect:"}),n.jsx(r,{label:e.autoCollect?"ENABLED":"DISABLED",icon:e.autoCollect?"✅":"❌",bg:e.autoCollect?"#dcfce7":"#fee2e2",color:e.autoCollect?"#166534":"#991b1b"})]}),(0,n.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(160px, 1fr))",gap:10},children:[n.jsx(v,{label:"Total",value:t+o+d+h}),n.jsx(v,{label:"Priority",value:"HQ reqs"}),n.jsx(v,{label:"Next",value:"Upgrade queue"})]})]})}function m({settings:e}){let[t,i]=(0,s.useState)({dailyMail:!1,allianceGifts:!1,events:!1,store:!1});return(0,n.jsxs)(l,{title:"Mail & gifts",subtitle:"Collect daily rewards + messages",children:[(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:10,marginBottom:12},children:[n.jsx("div",{style:{fontWeight:900},children:"Auto-send gifts:"}),n.jsx(r,{label:e.autoSendGifts?"ENABLED":"DISABLED",icon:e.autoSendGifts?"✅":"❌",bg:e.autoSendGifts?"#dcfce7":"#fee2e2",color:e.autoSendGifts?"#166534":"#991b1b"})]}),(0,n.jsxs)("label",{style:k(),children:[n.jsx("input",{type:"checkbox",checked:t.dailyMail,onChange:e=>i({...t,dailyMail:e.target.checked})}),(0,n.jsxs)("span",{children:[n.jsx("b",{children:"Daily mail"})," — claim all rewards"]})]}),(0,n.jsxs)("label",{style:k(),children:[n.jsx("input",{type:"checkbox",checked:t.allianceGifts,onChange:e=>i({...t,allianceGifts:e.target.checked})}),(0,n.jsxs)("span",{children:[n.jsx("b",{children:"Alliance gifts"})," — open + share notes"]})]}),(0,n.jsxs)("label",{style:k(),children:[n.jsx("input",{type:"checkbox",checked:t.events,onChange:e=>i({...t,events:e.target.checked})}),(0,n.jsxs)("span",{children:[n.jsx("b",{children:"Events"})," — check limited tasks"]})]}),(0,n.jsxs)("label",{style:k(),children:[n.jsx("input",{type:"checkbox",checked:t.store,onChange:e=>i({...t,store:e.target.checked})}),(0,n.jsxs)("span",{children:[n.jsx("b",{children:"Store"})," — free packs / weekly items"]})]}),(0,n.jsxs)("div",{style:{marginTop:10,color:"#6b7280",fontWeight:700,fontSize:13},children:['Default gift message: "',e.giftMessage,'"']}),n.jsx("textarea",{placeholder:"Notes / messages to remember...",style:{width:"100%",minHeight:110,borderRadius:14,border:"1px solid #e5e7eb",padding:12,outline:"none",fontWeight:700,marginTop:8}})]})}function j({settings:e}){let[t,i]=(0,s.useState)(""),[o,d]=(0,s.useState)([{role:"ai",text:"Ask me for a farming/build/rally plan. (Safe helper—no ban-bypass.)"}]),[c,h]=(0,s.useState)(!1);async function p(){let e=t.trim();if(e&&!c){i(""),d(t=>[...t,{role:"user",text:e}]),h(!0);try{let t=await fetch("/api/ai/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:e})}),i=await t.json();d(e=>[...e,{role:"ai",text:i.reply??"OK"}])}catch{d(e=>[...e,{role:"ai",text:"Error: failed to reach AI endpoint."}])}finally{h(!1)}}}return(0,n.jsxs)(l,{title:"AI helper",subtitle:"Planning + guidance",children:[(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:10,marginBottom:12},children:[n.jsx("div",{style:{fontWeight:900},children:"AI Status:"}),n.jsx(r,{label:e.enabled?"ACTIVE":"INACTIVE",icon:e.enabled?"\uD83E\uDD16":"\uD83D\uDCA4",bg:e.enabled?"#dcfce7":"#f3f4f6",color:e.enabled?"#166534":"#374151"}),(0,n.jsxs)("div",{style:{color:"#6b7280",fontSize:12},children:["Model: ",e.visionModel]})]}),n.jsx("div",{style:{border:"1px solid #e5e7eb",borderRadius:14,padding:12,background:"#f8fafc",maxHeight:260,overflow:"auto"},children:o.map((e,t)=>n.jsx("div",{style:{display:"flex",justifyContent:"user"===e.role?"flex-end":"flex-start",marginBottom:10},children:n.jsx("div",{style:{maxWidth:"85%",padding:"10px 12px",borderRadius:14,fontWeight:700,background:"user"===e.role?"#111827":"#fff",color:"user"===e.role?"#fff":"#111827",border:"user"===e.role?"1px solid #111827":"1px solid #e5e7eb"},children:e.text})},t))}),(0,n.jsxs)("div",{style:{display:"flex",gap:10,marginTop:10,flexWrap:"wrap"},children:[n.jsx("input",{value:t,onChange:e=>i(e.target.value),placeholder:"e.g., give me a level 1→17 build plan...",style:{flex:1,minWidth:220,padding:"12px 12px",borderRadius:14,border:"1px solid #e5e7eb",outline:"none",fontWeight:700}}),n.jsx(a,{onClick:p,children:c?"…":"Send"})]})]})}function v({label:e,value:t}){return(0,n.jsxs)("div",{style:{border:"1px solid #e5e7eb",borderRadius:14,padding:12,background:"#fff"},children:[n.jsx("div",{style:{color:"#6b7280",fontSize:12,fontWeight:900},children:e}),n.jsx("div",{style:{marginTop:6,fontSize:18,fontWeight:950},children:t})]})}function k(){return{display:"flex",gap:10,alignItems:"flex-start",padding:"10px 0",borderBottom:"1px solid #f1f5f9",fontWeight:700,color:"#111827"}}function D(e,t,i,s){return(0,n.jsxs)("div",{style:{display:"flex",gap:10,alignItems:"center",justifyContent:"space-between",borderBottom:"1px solid #f1f5f9",padding:"10px 0",opacity:s?1:.6},children:[(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:8},children:[n.jsx("div",{style:{fontWeight:900},children:e}),!s&&n.jsx("span",{style:{fontSize:10,color:"#6b7280",fontWeight:800},children:"(disabled)"})]}),n.jsx("input",{type:"number",value:t,onChange:e=>i(Number(e.target.value||0)),disabled:!s,style:{width:160,maxWidth:"45vw",padding:"10px 12px",borderRadius:12,border:"1px solid #e5e7eb",outline:"none",fontWeight:900,textAlign:"right",background:s?"#fff":"#f3f4f6"}})]})}},96596:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>p,dynamic:()=>c,runtime:()=>h});var n=i(25036),s=i(7439),r=i(77497);let l=(0,i(86843).createProxy)(String.raw`/workspaces/vrbot-site/components/BotUI.tsx`),{__esModule:o,$$typeof:a}=l,d=l.default,c="force-dynamic",h="nodejs";async function p(){let e=(0,s.cookies)(),t=(0,r.createServerClient)("https://xmanyfpojzkjlwatkrcc.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InhtYW55ZnBvanpramx3YXRrcmNjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njc2MTc0MTcsImV4cCI6MjA4MzE5MzQxN30.LFW6cNE-oM_Ah8dQL2Dt1xMw8rRWxbHAfPdRnkRvW_U",{cookies:{getAll:()=>e.getAll(),setAll(t){try{t.forEach(({name:t,value:i,options:n})=>e.set(t,i,n))}catch{}}}}),{data:i}=await t.auth.getUser(),l=i?.user;if(!l)return(0,n.jsxs)("div",{style:{padding:24},children:[n.jsx("h1",{style:{fontSize:28,fontWeight:800},children:"VRBOT"}),n.jsx("p",{style:{marginTop:10},children:"Please login to access the bot."}),n.jsx("a",{href:"/auth",style:{display:"inline-block",marginTop:12},children:"Go to login"})]});let{data:o}=await t.from("subscriptions").select("plan,status,current_period_end").eq("user_id",l.id).maybeSingle();if(!o){let e=new Date(Date.now()+6048e5).toISOString(),{data:i}=await t.from("subscriptions").insert({user_id:l.id,plan:"trial",status:"trialing",current_period_end:e}).select("plan,status,current_period_end").single();o=i??{plan:"trial",status:"trialing",current_period_end:e}}let a=o?.plan??"free",c=o?.status??"-",h=o?.current_period_end??null;return"trialing"!==c&&"active"!==c||!h||new Date(h).getTime()<Date.now()?(0,n.jsxs)("div",{style:{padding:24,maxWidth:720},children:[n.jsx("h1",{style:{fontSize:28,fontWeight:800},children:"Bot Access Locked"}),n.jsx("p",{style:{marginTop:10},children:"Your free trial has ended. Payments will be enabled later via PayPal."}),(0,n.jsxs)("div",{style:{marginTop:14,padding:14,border:"1px solid #e5e7eb",borderRadius:12,background:"#fafafa"},children:[n.jsx("p",{style:{margin:0,fontWeight:700},children:"Current status"}),(0,n.jsxs)("p",{style:{margin:"8px 0 0"},children:["Plan: ",n.jsx("b",{children:String(a)})," — Status: ",n.jsx("b",{children:String(c)})]}),(0,n.jsxs)("p",{style:{margin:"8px 0 0"},children:["Period End:"," ",n.jsx("b",{children:h?new Date(h).toLocaleString():"-"})]})]}),(0,n.jsxs)("div",{style:{marginTop:16,display:"flex",gap:10,flexWrap:"wrap"},children:[n.jsx("a",{href:"/dashboard",style:{padding:"10px 14px",borderRadius:10,border:"1px solid #111827",textDecoration:"none",fontWeight:700,color:"#111827",background:"#fff"},children:"Go to Dashboard"}),n.jsx("a",{href:"mailto:ahmed85q@hotmail.com?subject=VRBOT%20Access%20Request",style:{padding:"10px 14px",borderRadius:10,border:"1px solid #e5e7eb",textDecoration:"none",fontWeight:700,color:"#111827",background:"#f3f4f6"},children:"Request Access"})]})]}):n.jsx(d,{email:l.email??"",userId:l.id,plan:a,status:c})}},82917:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>s});var n=i(25036);function s({children:e}){return n.jsx("html",{lang:"en",children:n.jsx("body",{children:e})})}},97347:e=>{"use strict";var t=Object.defineProperty,i=Object.getOwnPropertyDescriptor,n=Object.getOwnPropertyNames,s=Object.prototype.hasOwnProperty,r={};function l(e){var t;let i=["path"in e&&e.path&&`Path=${e.path}`,"expires"in e&&(e.expires||0===e.expires)&&`Expires=${("number"==typeof e.expires?new Date(e.expires):e.expires).toUTCString()}`,"maxAge"in e&&"number"==typeof e.maxAge&&`Max-Age=${e.maxAge}`,"domain"in e&&e.domain&&`Domain=${e.domain}`,"secure"in e&&e.secure&&"Secure","httpOnly"in e&&e.httpOnly&&"HttpOnly","sameSite"in e&&e.sameSite&&`SameSite=${e.sameSite}`,"priority"in e&&e.priority&&`Priority=${e.priority}`].filter(Boolean);return`${e.name}=${encodeURIComponent(null!=(t=e.value)?t:"")}; ${i.join("; ")}`}function o(e){let t=new Map;for(let i of e.split(/; */)){if(!i)continue;let e=i.indexOf("=");if(-1===e){t.set(i,"true");continue}let[n,s]=[i.slice(0,e),i.slice(e+1)];try{t.set(n,decodeURIComponent(null!=s?s:"true"))}catch{}}return t}function a(e){var t,i;if(!e)return;let[[n,s],...r]=o(e),{domain:l,expires:a,httponly:h,maxage:p,path:u,samesite:g,secure:x,priority:f}=Object.fromEntries(r.map(([e,t])=>[e.toLowerCase(),t]));return function(e){let t={};for(let i in e)e[i]&&(t[i]=e[i]);return t}({name:n,value:decodeURIComponent(s),domain:l,...a&&{expires:new Date(a)},...h&&{httpOnly:!0},..."string"==typeof p&&{maxAge:Number(p)},path:u,...g&&{sameSite:d.includes(t=(t=g).toLowerCase())?t:void 0},...x&&{secure:!0},...f&&{priority:c.includes(i=(i=f).toLowerCase())?i:void 0}})}((e,i)=>{for(var n in i)t(e,n,{get:i[n],enumerable:!0})})(r,{RequestCookies:()=>h,ResponseCookies:()=>p,parseCookie:()=>o,parseSetCookie:()=>a,stringifyCookie:()=>l}),e.exports=((e,r,l,o)=>{if(r&&"object"==typeof r||"function"==typeof r)for(let l of n(r))s.call(e,l)||void 0===l||t(e,l,{get:()=>r[l],enumerable:!(o=i(r,l))||o.enumerable});return e})(t({},"__esModule",{value:!0}),r);var d=["strict","lax","none"],c=["low","medium","high"],h=class{constructor(e){this._parsed=new Map,this._headers=e;let t=e.get("cookie");if(t)for(let[e,i]of o(t))this._parsed.set(e,{name:e,value:i})}[Symbol.iterator](){return this._parsed[Symbol.iterator]()}get size(){return this._parsed.size}get(...e){let t="string"==typeof e[0]?e[0]:e[0].name;return this._parsed.get(t)}getAll(...e){var t;let i=Array.from(this._parsed);if(!e.length)return i.map(([e,t])=>t);let n="string"==typeof e[0]?e[0]:null==(t=e[0])?void 0:t.name;return i.filter(([e])=>e===n).map(([e,t])=>t)}has(e){return this._parsed.has(e)}set(...e){let[t,i]=1===e.length?[e[0].name,e[0].value]:e,n=this._parsed;return n.set(t,{name:t,value:i}),this._headers.set("cookie",Array.from(n).map(([e,t])=>l(t)).join("; ")),this}delete(e){let t=this._parsed,i=Array.isArray(e)?e.map(e=>t.delete(e)):t.delete(e);return this._headers.set("cookie",Array.from(t).map(([e,t])=>l(t)).join("; ")),i}clear(){return this.delete(Array.from(this._parsed.keys())),this}[Symbol.for("edge-runtime.inspect.custom")](){return`RequestCookies ${JSON.stringify(Object.fromEntries(this._parsed))}`}toString(){return[...this._parsed.values()].map(e=>`${e.name}=${encodeURIComponent(e.value)}`).join("; ")}},p=class{constructor(e){var t,i,n;this._parsed=new Map,this._headers=e;let s=null!=(n=null!=(i=null==(t=e.getSetCookie)?void 0:t.call(e))?i:e.get("set-cookie"))?n:[];for(let e of Array.isArray(s)?s:function(e){if(!e)return[];var t,i,n,s,r,l=[],o=0;function a(){for(;o<e.length&&/\s/.test(e.charAt(o));)o+=1;return o<e.length}for(;o<e.length;){for(t=o,r=!1;a();)if(","===(i=e.charAt(o))){for(n=o,o+=1,a(),s=o;o<e.length&&"="!==(i=e.charAt(o))&&";"!==i&&","!==i;)o+=1;o<e.length&&"="===e.charAt(o)?(r=!0,o=s,l.push(e.substring(t,n)),t=o):o=n+1}else o+=1;(!r||o>=e.length)&&l.push(e.substring(t,e.length))}return l}(s)){let t=a(e);t&&this._parsed.set(t.name,t)}}get(...e){let t="string"==typeof e[0]?e[0]:e[0].name;return this._parsed.get(t)}getAll(...e){var t;let i=Array.from(this._parsed.values());if(!e.length)return i;let n="string"==typeof e[0]?e[0]:null==(t=e[0])?void 0:t.name;return i.filter(e=>e.name===n)}has(e){return this._parsed.has(e)}set(...e){let[t,i,n]=1===e.length?[e[0].name,e[0].value,e[0]]:e,s=this._parsed;return s.set(t,function(e={name:"",value:""}){return"number"==typeof e.expires&&(e.expires=new Date(e.expires)),e.maxAge&&(e.expires=new Date(Date.now()+1e3*e.maxAge)),(null===e.path||void 0===e.path)&&(e.path="/"),e}({name:t,value:i,...n})),function(e,t){for(let[,i]of(t.delete("set-cookie"),e)){let e=l(i);t.append("set-cookie",e)}}(s,this._headers),this}delete(...e){let[t,i,n]="string"==typeof e[0]?[e[0]]:[e[0].name,e[0].path,e[0].domain];return this.set({name:t,path:i,domain:n,value:"",expires:new Date(0)})}[Symbol.for("edge-runtime.inspect.custom")](){return`ResponseCookies ${JSON.stringify(Object.fromEntries(this._parsed))}`}toString(){return[...this._parsed.values()].map(l).join("; ")}}},63608:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var i in t)Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}(t,{RequestCookies:function(){return n.RequestCookies},ResponseCookies:function(){return n.ResponseCookies}});let n=i(97347)}};var t=require("../../webpack-runtime.js");t.C(e);var i=e=>t(t.s=e),n=t.X(0,[1638,3950,7439,8356,7497],()=>i(48633));module.exports=n})();