"use strict";(()=>{var t={};t.id=6782,t.ids=[6782],t.modules={30517:t=>{t.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},66373:(t,e,r)=>{r.r(e),r.d(e,{headerHooks:()=>v,originalPathname:()=>g,patchFetch:()=>j,requestAsyncStorage:()=>h,routeModule:()=>l,serverHooks:()=>f,staticGenerationAsyncStorage:()=>m,staticGenerationBailout:()=>b});var a={};r.r(a),r.d(a,{POST:()=>p});var o=r(95419),n=r(69108),i=r(99678),s=r(78070),u=r(25676);async function d(){return"admin"===(await (0,u.j)()).role}async function c(){if(!await d())throw Error("BOT_NOT_ALLOWED")}async function p(t){if(!(t.cookies.get("session_token")?.value||t.headers.get("authorization")?.replace("Bearer ",""))||!await (0,u.j)())return s.Z.json({error:"Unauthorized"},{status:401});try{let t=await c();return s.Z.json(t)}catch{return s.Z.json({error:"Forbidden"},{status:403})}}let l=new o.AppRouteRouteModule({definition:{kind:n.x.APP_ROUTE,page:"/api/bot/start/route",pathname:"/api/bot/start",filename:"route",bundlePath:"app/api/bot/start/route"},resolvedPagePath:"/workspaces/vrbot-site/app/api/bot/start/route.ts",nextConfigOutput:"",userland:a}),{requestAsyncStorage:h,staticGenerationAsyncStorage:m,serverHooks:f,headerHooks:v,staticGenerationBailout:b}=l,g="/api/bot/start/route";function j(){return(0,i.patchFetch)({serverHooks:f,staticGenerationAsyncStorage:m})}},25676:(t,e,r)=>{r.d(e,{j:()=>a});async function a(){return{userId:"admin",role:"admin"}}}};var e=require("../../../../webpack-runtime.js");e.C(t);var r=t=>e(e.s=t),a=e.X(0,[1638,6206],()=>r(66373));module.exports=a})();