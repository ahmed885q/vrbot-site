"use strict";(()=>{var e={};e.id=494,e.ids=[494],e.modules={517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},2397:(e,t,s)=>{s.r(t),s.d(t,{headerHooks:()=>b,originalPathname:()=>v,patchFetch:()=>f,requestAsyncStorage:()=>l,routeModule:()=>c,serverHooks:()=>m,staticGenerationAsyncStorage:()=>d,staticGenerationBailout:()=>h});var r={};s.r(r),s.d(r,{GET:()=>p});var a=s(5419),i=s(9108),o=s(9678),n=s(8070),u=s(6569);async function p(e){if(!e.cookies.get("session")?.value)return n.Z.json({plan:"guest"});let{data:t}=await u.p.from("users").select("id,email,subscriptions(plan)").limit(1),s=t?.[0]?.subscriptions?.[0]?.plan??"free";return n.Z.json({plan:s})}let c=new a.AppRouteRouteModule({definition:{kind:i.x.APP_ROUTE,page:"/api/subscription/status/route",pathname:"/api/subscription/status",filename:"route",bundlePath:"app/api/subscription/status/route"},resolvedPagePath:"/workspaces/vrbot-site/app/api/subscription/status/route.ts",nextConfigOutput:"",userland:r}),{requestAsyncStorage:l,staticGenerationAsyncStorage:d,serverHooks:m,headerHooks:b,staticGenerationBailout:h}=c,v="/api/subscription/status/route";function f(){return(0,o.patchFetch)({serverHooks:m,staticGenerationAsyncStorage:d})}},6569:(e,t,s)=>{s.d(t,{p:()=>r});let r=(0,s(3950).eI)("https://xmanyfpojzkjlwatkrcc.supabase.co",process.env.SUPABASE_SERVICE_ROLE_KEY,{auth:{persistSession:!1}})}};var t=require("../../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[638,206,950],()=>s(2397));module.exports=r})();